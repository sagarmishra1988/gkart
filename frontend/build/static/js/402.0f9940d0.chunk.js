"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[402],{8402:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var t=n(2791),a=n(4165),l=n(5861),u=n(9439),s=n(2302),o=n(3999),c=n(1512),i=n(9508),d=n(9895),h=n(685),p=n(7689),v=n(3108),f=n(184),x=function(){var e=(0,t.useState)([]),r=(0,u.Z)(e,2),n=r[0],x=r[1],m=(0,i.x)(),j=m.isLoading,b=m.error,Z=m.sendRequest,g=m.clearError,k=(0,t.useContext)(v.V),C=(0,p.s0)(),y=(0,p.UO)().pid,N=(0,c.Z)((function(e){return""!==e.trim()})),w=N.value,E=N.entervalueisvalid,T=N.haserror,B=N.valuechangehandler,O=N.valueblurhandler,R=N.reset,_=(0,c.Z)((function(e){return""!==e.trim()})),S=_.value,A=_.entervalueisvalid,D=_.haserror,F=_.valuechangehandler,I=_.valueblurhandler,P=_.reset,L=(0,c.Z)((function(e){return""!==e.trim()})),U=L.value,z=L.entervalueisvalid,q=L.haserror,H=L.valuechangehandler,J=L.valueblurhandler,M=L.reset,V=(0,c.Z)((function(e){return""!==e.trim()})),G=V.value,K=V.entervalueisvalid,Q=V.haserror,W=V.valuechangehandler,X=V.valueblurhandler,Y=V.reset,$=(0,t.useRef)(),ee=(0,t.useRef)(),re=(0,t.useRef)(),ne=(0,t.useRef)(),te=!1;E&&A&&z&&K&&(te=!0),(0,t.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("https://gkartapp.adaptable.app/api"+"/places/".concat(y));case 3:r=e.sent,x(r.place),console.log(r.place),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[Z,y]);var ae=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),E){e.next=3;break}return e.abrupt("return");case 3:if(A){e.next=5;break}return e.abrupt("return");case 5:if(z){e.next=7;break}return e.abrupt("return");case 7:if(K){e.next=9;break}return e.abrupt("return");case 9:return R(),P(),M(),Y(),e.prev=13,e.next=16,Z("https://gkartapp.adaptable.app/api"+"/places/".concat(y),"PATCH",JSON.stringify({name:w,title:S,description:U,price:G}),{"Content-Type":"application/json",Authorization:"Bearer "+k.token});case 16:C("/sellerlogin"),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(13);case 21:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(r){return e.apply(this,arguments)}}(),le=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("https://gkartapp.adaptable.app/api"+"/places/".concat(y),"DELETE",null,{Authorization:"Bearer "+k.token});case 3:C("/sellerlogin"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ue=T?"form-control invalid":"form-control",se=D?"form-control invalid":"form-control",oe=q?"form-control invalid":"form-control",ce=Q?"form-control invalid":"form-control";return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.Z,{error:b,onClear:g}),j&&(0,f.jsx)(d.Z,{asOverlay:!0}),(0,f.jsx)("h2",{children:"Upload New Products"}),(0,f.jsx)("div",{className:"form_input_div",children:(0,f.jsxs)("form",{onSubmit:ae,children:[(0,f.jsxs)("div",{className:ue,children:[(0,f.jsx)(s.Z,{id:"NAME",type:"text",ref:$,onChange:B,onBlur:O,value:w||n.name}),T&&(0,f.jsx)("p",{children:"enter valid name"})]}),(0,f.jsxs)("div",{className:se,children:[(0,f.jsx)(s.Z,{id:"TITLE",type:"text",ref:ee,onChange:F,onBlur:I,value:S||n.title}),D&&(0,f.jsx)("p",{children:"enter valid title"})]}),(0,f.jsxs)("div",{className:oe,children:[(0,f.jsx)(s.Z,{id:"DESCRIPTION",type:"text",ref:re,onChange:H,onBlur:J,value:U||n.description}),q&&(0,f.jsx)("p",{children:"enter valid description"})]}),(0,f.jsxs)("div",{className:ce,children:[(0,f.jsx)(s.Z,{id:"PRICE",type:"number",ref:ne,onChange:W,onBlur:X,value:G||n.price}),Q&&(0,f.jsx)("p",{children:"enter valid price"})]}),(0,f.jsx)(o.Z,{disabled:!te,children:"Update"}),(0,f.jsx)(o.Z,{onClick:le,children:"Delete"})]})})]})},m=function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(x,{})})}},2302:function(e,r,n){n(2791);var t=n(184);r.Z=function(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:e.id,children:e.id}),(0,t.jsx)("input",{style:{width:"100%"},type:e.type,id:e.id,onChange:e.onChange,ref:e.ref,onBlur:e.onBlur,value:e.value})]})}},685:function(e,r,n){n.d(r,{Z:function(){return h}});var t=n(2791),a=n(1413),l=n(4164),u=n(1176),s=n(9422),o=n(184),c=function(e){var r=(0,o.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[(0,o.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:(0,o.jsx)("h2",{children:e.header})}),(0,o.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[(0,o.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),(0,o.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return l.createPortal(r,document.getElementById("modal-hook"))},i=function(e){return(0,o.jsxs)(t.Fragment,{children:[e.show&&(0,o.jsx)(s.Z,{onClick:e.onCancel}),(0,o.jsx)(u.Z,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:(0,o.jsx)(c,(0,a.Z)({},e))})]})},d=n(3999),h=function(e){return(0,o.jsx)(i,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:(0,o.jsx)(d.Z,{onClick:e.onClear,children:"Okay"}),children:(0,o.jsx)("p",{children:e.error})})}},1512:function(e,r,n){var t=n(9439),a=n(2791),l={value:"",isTouched:!1},u=function e(r,n){return"input"===n.type?{value:n.value,isTouched:r.isTouched}:"blur"===n.type?{isTouched:!0,value:r.value}:"reset"===n.type?{isTouched:!1,value:""}:e};r.Z=function(e){var r=(0,a.useReducer)(u,l),n=(0,t.Z)(r,2),s=n[0],o=n[1],c=e(s.value),i=!c&&s.isTouched;return{value:s.value,entervalueisvalid:c,haserror:i,valuechangehandler:function(e){o({type:"input",value:e.target.value})},valueblurhandler:function(){o({type:"blur"})},reset:function(){o({type:"reset"})}}}}}]);
//# sourceMappingURL=402.0f9940d0.chunk.js.map